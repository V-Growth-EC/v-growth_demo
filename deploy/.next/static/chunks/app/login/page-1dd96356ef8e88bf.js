(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{5695:(e,s,a)=>{"use strict";var r=a(8999);a.o(r,"useRouter")&&a.d(s,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(s,{useSearchParams:function(){return r.useSearchParams}})},6960:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>o});var r=a(5155),t=a(2115),n=a(5695);function o(){let[e,s]=(0,t.useState)(""),[a,o]=(0,t.useState)(""),[l,i]=(0,t.useState)(!1),c=(0,n.useRouter)(),u=async s=>{s.preventDefault(),o(""),i(!0);try{let s=await fetch("/api/auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({authCode:e})}),a=await s.json();console.log("data:",a,s),s.ok?c.push("/"):o(a.error||"認証に失敗しました。")}catch(e){o("ネットワークエラーが発生しました。")}finally{i(!1)}};return(0,r.jsx)("main",{className:"is-login flex flex-center-middle",children:(0,r.jsxs)("section",{className:"is-login-content",children:[(0,r.jsx)("h1",{children:(0,r.jsx)("img",{src:"/images/common/logo.png",alt:"ICT学習支援機器販売サイト"})}),(0,r.jsx)("h2",{children:"ICT学習支援機器販売サイトへようこそ！"}),(0,r.jsx)("p",{className:"lead",children:"認証コードをご入力ください"}),(0,r.jsxs)("form",{className:"form auth-form",onSubmit:u,children:[(0,r.jsx)("div",{className:"form-group",children:(0,r.jsx)("input",{type:"text",name:"authCode",className:"form-control",placeholder:"認証コード",value:e,onChange:e=>s(e.target.value),required:!0,disabled:l})}),a&&(0,r.jsx)("div",{className:"error-message",style:{color:"red",marginBottom:"1rem"},children:a}),(0,r.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:l,children:l?"認証中...":"ログイン"})]}),(0,r.jsxs)("p",{className:"attention",children:["本サイトは株式会社V-Growth向けのサイトです。",(0,r.jsx)("br",{className:"sp"}),"事前に通知された認証コードをご入力ください。",(0,r.jsx)("br",{}),"一般の方はご利用いただけないクローズドサイトとなっております。"]})]})})}},7667:(e,s,a)=>{Promise.resolve().then(a.bind(a,6960))}},e=>{var s=s=>e(e.s=s);e.O(0,[441,684,358],()=>s(7667)),_N_E=e.O()}]);